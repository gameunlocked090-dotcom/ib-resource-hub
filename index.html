<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB Resource Hub | Free Study Resources</title>
    <meta name="description" content="Free IB study resources, articles, and interactive experiments">
    <meta property="og:title" content="IB Resource Hub">
    <meta property="og:description" content="Free study resources for IB students">
    <meta property="og:image" content="https://ibresourcehub.com/og-image.jpg">
    <meta property="og:url" content="https://ibresourcehub.com">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "EducationalOrganization",
        "name": "IB Resource Hub",
        "url": "https://ibresourcehub.com",
        "description": "Free IB study resources, articles, and interactive experiments",
        "founder": {
            "@type": "Person",
            "name": "IB Support Team"
        },
        "foundingDate": "2023",
        "sameAs": [
            "https://facebook.com/ibresourcehub",
            "https://twitter.com/ibresourcehub",
            "https://instagram.com/ibresourcehub"
        ]
    }
    </script>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Slab:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Resource hints -->
    <link rel="preconnect" href="https://stats.g.doubleclick.net">
    <link rel="dns-prefetch" href="https://stats.g.doubleclick.net">
    
    <style>
        /* Minified CSS with comments removed for brevity */
        :root{--primary:#4e54c8;--secondary:#8f94fb;--accent:#ff6b6b;--light:#f8f9fa;--dark:#343a40;--darker:#1a1d23;--success:#28a745;--warning:#ffc107;--info:#17a2b8;--gray:#6c757d;--light-gray:#e9ecef;--card-bg:#ffffff;--text:#333333;--text-light:#777777;--shadow:0 4px 12px rgba(0,0,0,0.1);--transition:all 0.3s ease;--z-header:1000;--z-modal:2000;--z-notification:3000;--z-chat:999}.dark-mode{--light:#1a1d23;--dark:#f8f9fa;--darker:#f0f0f0;--card-bg:#252a33;--text:#ffffff;--text-light:#bbbbbb;--shadow:0 4px 12px rgba(0,0,0,0.3)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Poppins',sans-serif;line-height:1.6;color:var(--text);background:var(--light);min-height:100vh;padding-top:80px;transition:var(--transition)}.container{width:90%;max-width:1200px;margin:0 auto;padding:0 15px}header{background:linear-gradient(90deg,var(--primary) 0%,var(--secondary) 100%);color:white;box-shadow:var(--shadow);position:fixed;top:0;left:0;right:0;z-index:var(--z-header)}.header-container{display:flex;justify-content:space-between;align-items:center;padding:15px 0}.logo{display:flex;align-items:center;gap:10px;font-size:1.8rem;font-weight:700;font-family:'Roboto Slab',serif}.logo i{color:var(--accent)}nav ul{display:flex;list-style:none;gap:25px}nav a{color:white;text-decoration:none;font-weight:500;font-size:1.1rem;transition:var(--transition);padding:8px 15px;border-radius:30px}nav a:hover,nav a.active{background:rgba(255,255,255,0.2)}.mobile-menu-btn{display:none;background:none;border:none;color:white;font-size:1.5rem;cursor:pointer}.search-filter-container{background:var(--card-bg);border-radius:15px;padding:25px;box-shadow:var(--shadow);margin:30px auto;max-width:1000px}.search-container{display:flex;gap:15px;margin-bottom:20px}#searchInput{flex:1;padding:12px 20px;border:1px solid var(--light-gray);border-radius:50px;font-size:1rem;background:var(--card-bg);color:var(--text);transition:var(--transition)}#searchInput:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(78,84,200,0.2)}.filter-buttons{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}.filter-btn{padding:8px 20px;background:var(--light-gray);border:none;border-radius:50px;cursor:pointer;font-weight:500;transition:var(--transition);color:var(--text)}.filter-btn.active,.filter-btn:hover{background:var(--primary);color:white}.hero{padding:80px 0 60px;text-align:center;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%234e54c8" opacity="0.05"/><path d="M0 50 Q 25 30, 50 50 T 100 50" fill="none" stroke="%238f94fb" stroke-width="0.5" opacity="0.3"/></svg>');background-size:cover}.hero h1{font-size:3.5rem;font-weight:700;margin-bottom:20px;color:var(--dark);font-family:'Roboto Slab',serif}.hero p{font-size:1.3rem;max-width:800px;margin:0 auto 30px;color:var(--text-light)}.cta-buttons{display:flex;gap:15px;justify-content:center;margin-top:30px}.btn{display:inline-block;padding:12px 30px;border-radius:50px;text-decoration:none;font-weight:600;transition:var(--transition);border:none;cursor:pointer;font-size:1.1rem}.btn-primary{background:linear-gradient(90deg,var(--primary) 0%,var(--secondary) 100%);color:white;box-shadow:0 4px 15px rgba(78,84,200,0.4)}.btn-primary:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(78,84,200,0.6)}.btn-secondary{background:var(--card-bg);color:var(--primary);border:2px solid var(--primary)}.btn-secondary:hover{background:var(--primary);color:white}.btn-small{padding:8px 20px;font-size:0.9rem}.features{padding:80px 0;background:var(--card-bg)}.section-title{text-align:center;margin-bottom:60px;font-family:'Roboto Slab',serif}.section-title h2{font-size:2.5rem;color:var(--dark);margin-bottom:15px}.section-title p{font-size:1.2rem;color:var(--text-light);max-width:700px;margin:0 auto}.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px}.feature-card{background:var(--card-bg);border-radius:15px;overflow:hidden;box-shadow:var(--shadow);transition:var(--transition);text-align:center;padding:30px 20px}.feature-card:hover{transform:translateY(-10px);box-shadow:0 15px 30px rgba(0,0,0,0.15)}.feature-icon{width:80px;height:80px;background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;color:white;font-size:2rem}.feature-card h3{font-size:1.5rem;margin-bottom:15px;color:var(--dark)}.articles,.experiments,.revenue,.chat{padding:80px 0}.articles{background:var(--light)}.revenue{background:linear-gradient(135deg,#f5f7fa 0%,#e4e7f1 100%)}.content-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px}.content-card{background:var(--card-bg);border-radius:15px;overflow:hidden;box-shadow:var(--shadow);transition:var(--transition);position:relative}.content-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,0.12)}.card-img{height:180px;background:linear-gradient(90deg,var(--primary) 0%,var(--secondary) 100%);display:flex;align-items:center;justify-content:center;color:white;font-size:3rem;position:relative}.bookmark-btn{position:absolute;top:15px;right:15px;background:rgba(255,255,255,0.8);border:none;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--primary);font-size:1.2rem;transition:var(--transition)}.bookmark-btn:hover{background:white;transform:scale(1.1)}.bookmark-btn.active{background:var(--accent);color:white}.progress-bar{position:absolute;bottom:0;left:0;right:0;height:5px;background:rgba(255,255,255,0.2)}.progress-fill{height:100%;background:var(--success);width:0%;transition:width 0.5s ease}.card-content{padding:25px}.card-content h3{font-size:1.4rem;margin-bottom:10px;color:var(--dark)}.card-content p{color:var(--text-light);margin-bottom:20px}.tag{display:inline-block;padding:5px 15px;background:rgba(143,148,251,0.2);color:var(--primary);border-radius:50px;font-size:0.85rem;margin-bottom:15px}.content-meta{display:flex;justify-content:space-between;margin-top:15px;font-size:0.85rem;color:var(--gray)}.loading-skeleton{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px}.skeleton-card{background:var(--card-bg);border-radius:15px;overflow:hidden;box-shadow:var(--shadow);height:350px;position:relative;overflow:hidden}.skeleton-card::before{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.1),transparent);animation:loading 1.5s infinite}@keyframes loading{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}.pagination{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:40px}.page-btn{padding:8px 20px;background:var(--primary);color:white;border:none;border-radius:5px;cursor:pointer;transition:var(--transition)}.page-btn:disabled{background:var(--light-gray);cursor:not-allowed;opacity:0.6}.page-btn:hover:not(:disabled){background:var(--secondary);transform:translateY(-2px)}.page-numbers{display:flex;gap:5px}.page-number{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:5px;background:var(--light-gray);cursor:pointer;transition:var(--transition)}.page-number.active,.page-number:hover{background:var(--primary);color:white}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal);opacity:0;visibility:hidden;transition:var(--transition)}.modal.active{opacity:1;visibility:visible}.modal-content{background:var(--card-bg);border-radius:15px;width:90%;max-width:800px;max-height:90vh;overflow-y:auto;position:relative;transform:scale(0.9);transition:var(--transition)}.modal.active .modal-content{transform:scale(1)}.close{position:absolute;top:20px;right:20px;font-size:1.8rem;color:var(--text);cursor:pointer;z-index:10;background:rgba(0,0,0,0.1);width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%}.modal-body{padding:40px}.notifications-container{position:fixed;top:20px;right:20px;z-index:var(--z-notification);display:flex;flex-direction:column;gap:10px;max-width:350px;-webkit-user-select:none;user-select:none}.notification{background:var(--card-bg);color:var(--text);padding:15px 20px;border-radius:10px;box-shadow:var(--shadow);display:flex;align-items:center;gap:15px;transform:translateX(120%);transition:transform 0.5s ease}.notification.show{transform:translateX(0)}.notification i{font-size:1.5rem}.notification.success i{color:var(--success)}.notification.error i{color:var(--accent)}.notification.info i{color:var(--info)}.revenue-methods{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin-top:40px}.revenue-card{background:var(--card-bg);border-radius:15px;padding:30px;box-shadow:var(--shadow);text-align:center;transition:var(--transition)}.revenue-card:hover{transform:translateY(-10px)}.revenue-icon{width:80px;height:80px;background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;color:white;font-size:2rem}.revenue-card h3{font-size:1.5rem;margin-bottom:15px;color:var(--dark)}.revenue-card p{color:var(--text-light);margin-bottom:20px}.user-preferences{position:fixed;bottom:90px;right:20px;background:var(--card-bg);border-radius:10px;box-shadow:var(--shadow);padding:20px;z-index:var(--z-chat);transform:translateY(20px);opacity:0;visibility:hidden;transition:var(--transition)}.user-preferences.active{transform:translateY(0);opacity:1;visibility:visible}.theme-toggle{display:flex;align-items:center;gap:10px}.switch{position:relative;display:inline-block;width:50px;height:24px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--light-gray);transition:var(--transition);border-radius:34px}.slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:white;transition:var(--transition);border-radius:50%}input:checked+.slider{background-color:var(--primary)}input:checked+.slider:before{transform:translateX(26px)}.error-message{background:rgba(255,107,107,0.1);border:1px solid var(--accent);border-radius:8px;padding:15px;display:flex;align-items:center;gap:15px;margin:20px 0;color:var(--text)}.error-message.hidden{display:none}.error-message i{color:var(--accent);font-size:1.5rem}footer{background:var(--darker);color:white;padding:60px 0 30px;margin-top:60px}.footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;margin-bottom:40px}.footer-col h3{font-size:1.4rem;margin-bottom:20px;position:relative;padding-bottom:10px;color:white}.footer-col h3::after{content:'';position:absolute;left:0;bottom:0;height:2px;width:50px;background:var(--primary)}.footer-col ul{list-style:none}.footer-col ul li{margin-bottom:10px}.footer-col ul li a{color:#ddd;text-decoration:none;transition:var(--transition)}.footer-col ul li a:hover{color:white;padding-left:5px}.social-links{display:flex;gap:15px;margin-top:20px}.social-links a{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:50%;color:white;transition:var(--transition)}.social-links a:hover{background:var(--primary);transform:translateY(-3px)}.copyright{text-align:center;padding-top:30px;border-top:1px solid rgba(255,255,255,0.1);color:#aaa;font-size:0.9rem}#tawkto-chat-button{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:1.5rem;box-shadow:0 4px 15px rgba(78,84,200,0.4);cursor:pointer;z-index:var(--z-chat);transition:var(--transition)}#tawkto-chat-button:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(78,84,200,0.6)}#preferences-button{position:fixed;bottom:90px;right:20px;width:50px;height:50px;background:var(--card-bg);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--primary);font-size:1.3rem;box-shadow:var(--shadow);cursor:pointer;z-index:var(--z-chat);transition:var(--transition)}.cookie-consent{position:fixed;bottom:0;left:0;right:0;background:var(--darker);color:white;padding:20px;z-index:var(--z-notification);transform:translateY(100%);transition:transform 0.5s ease}.cookie-consent.active{transform:translateY(0)}.cookie-content{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:20px;max-width:1200px;margin:0 auto}.cookie-text{flex:1;min-width:300px}.cookie-buttons{display:flex;gap:15px}.hidden{display:none}.loading{opacity:0.5;pointer-events:none}.active{background:var(--primary);color:white}.disabled{opacity:0.5;cursor:not-allowed}.skip-link{position:absolute;top:-40px;left:0;background:var(--primary);color:white;padding:8px;z-index:10000;text-decoration:none}.skip-link:focus{top:0}@media (max-width:992px){.hero h1{font-size:2.8rem}nav ul{gap:15px}}@media (max-width:768px){.mobile-menu-btn{display:block}nav ul{display:none;position:absolute;top:100%;left:0;right:0;background:var(--primary);flex-direction:column;padding:20px;gap:10px}nav ul.active{display:flex}.hero h1{font-size:2.3rem}.hero p{font-size:1.1rem}.cta-buttons{flex-direction:column;align-items:center}.cookie-content{flex-direction:column;text-align:center}.cookie-buttons{width:100%;justify-content:center}#tawkto-chat-button{width:50px;height:50px;font-size:1.2rem}}
    </style>
</head>
<body>
    <!-- Skip navigation -->
    <a href="#main" class="skip-link">Skip to content</a>

    <!-- Header -->
    <header role="banner">
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-graduation-cap" aria-hidden="true" alt="Education icon"></i>
                <span>IB Resource Hub</span>
            </div>
            <button class="mobile-menu-btn" id="menuBtn" aria-label="Toggle navigation">
                <i class="fas fa-bars" aria-hidden="true"></i>
            </button>
            <nav role="navigation" aria-label="Main navigation">
                <ul id="navMenu">
                    <li><a href="#" class="active" aria-current="page">Home</a></li>
                    <li><a href="#articles">Articles</a></li>
                    <li><a href="#experiments">Experiments</a></li>
                    <li><a href="#revenue">Support Us</a></li>
                    <li><a href="#chat">Live Chat</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main">
        <!-- Hero Section -->
        <section class="hero" role="region" aria-labelledby="hero-heading">
            <div class="container">
                <h1 id="hero-heading">Free IB Resources for Success</h1>
                <p>Access study guides, interactive tools, and expert support - all completely free. Join thousands of IB students worldwide who are acing their exams.</p>
                <div class="cta-buttons">
                    <a href="#articles" class="btn btn-primary">Explore Resources</a>
                    <a href="#chat" class="btn btn-secondary">Get Live Help</a>
                </div>
            </div>
        </section>

        <!-- Search and Filter -->
        <div class="search-filter-container">
            <div class="search-container">
                <input type="search" id="searchInput" placeholder="Search articles, experiments..." aria-label="Search resources">
                <button class="btn btn-primary" id="searchButton">Search</button>
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="math">Math</button>
                <button class="filter-btn" data-filter="physics">Physics</button>
                <button class="filter-btn" data-filter="chemistry">Chemistry</button>
                <button class="filter-btn" data-filter="biology">Biology</button>
                <button class="filter-btn" data-filter="ee">Extended Essay</button>
                <button class="filter-btn" data-filter="tok">TOK</button>
            </div>
        </div>

        <!-- Loading State -->
        <div class="loading-skeleton" id="articlesLoading">
            <div class="skeleton-card"></div>
            <div class="skeleton-card"></div>
            <div class="skeleton-card"></div>
        </div>
        
        <div class="loading-skeleton" id="experimentsLoading">
            <div class="skeleton-card"></div>
            <div class="skeleton-card"></div>
            <div class="skeleton-card"></div>
        </div>

        <!-- Error Message -->
        <div class="error-message hidden" id="errorContainer">
            <i class="fas fa-exclamation-triangle"></i>
            <span class="error-text">Error loading content. Please try again later.</span>
        </div>

        <!-- Features Section -->
        <section class="features" role="region" aria-labelledby="features-heading">
            <div class="container">
                <div class="section-title">
                    <h2 id="features-heading">Everything You Need in One Place</h2>
                    <p>Our free platform provides comprehensive support for all IB subjects and requirements</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-book-open" aria-hidden="true" alt="Book icon"></i>
                        </div>
                        <h3>Study Articles</h3>
                        <p>Comprehensive guides for all IB subjects, written by IB graduates and teachers.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-flask" aria-hidden="true" alt="Flask icon"></i>
                        </div>
                        <h3>Interactive Experiments</h3>
                        <p>Hands-on learning tools for science, math, and more to enhance understanding.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-comments" aria-hidden="true" alt="Comments icon"></i>
                        </div>
                        <h3>Real-time Support</h3>
                        <p>Get instant help from our community and volunteers through live chat.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Articles Section -->
        <section class="articles" id="articles" role="region" aria-labelledby="articles-heading">
            <div class="container">
                <div class="section-title">
                    <h2 id="articles-heading">Featured Study Articles</h2>
                    <p>Free, high-quality resources created by IB experts and top-scoring students</p>
                </div>
                <div class="content-grid" id="articles-container">
                    <!-- Articles will be loaded dynamically -->
                </div>
                
                <!-- Pagination -->
                <div class="pagination" id="articlesPagination" role="navigation" aria-label="Articles pagination">
                    <button class="page-btn" data-page="prev" disabled>Previous</button>
                    <div class="page-numbers" id="articlesPageNumbers"></div>
                    <button class="page-btn" data-page="next">Next</button>
                </div>
            </div>
        </section>

        <!-- Experiments Section -->
        <section class="experiments" id="experiments" role="region" aria-labelledby="experiments-heading">
            <div class="container">
                <div class="section-title">
                    <h2 id="experiments-heading">Interactive Learning Tools</h2>
                    <p>Explore concepts through hands-on experiments and visualizations</p>
                </div>
                <div class="content-grid" id="experiments-container">
                    <!-- Experiments will be loaded dynamically -->
                </div>
                
                <!-- Pagination -->
                <div class="pagination" id="experimentsPagination" role="navigation" aria-label="Experiments pagination">
                    <button class="page-btn" data-page="prev" disabled>Previous</button>
                    <div class="page-numbers" id="experimentsPageNumbers"></div>
                    <button class="page-btn" data-page="next">Next</button>
                </div>
            </div>
        </section>

        <!-- Revenue Section -->
        <section class="revenue" id="revenue" role="region" aria-labelledby="revenue-heading">
            <div class="container">
                <div class="section-title">
                    <h2 id="revenue-heading">Support Our Mission</h2>
                    <p>Help us keep this resource free for all IB students worldwide</p>
                </div>
                
                <div class="revenue-methods">
                    <div class="revenue-card">
                        <div class="revenue-icon">
                            <i class="fas fa-book" aria-hidden="true" alt="Book icon"></i>
                        </div>
                        <h3>Recommended Books</h3>
                        <p>Purchase IB textbooks through our affiliate links. We get a small commission at no extra cost to you.</p>
                        <a href="https://www.amazon.com/s?k=ib+textbooks" class="btn btn-primary" rel="noopener" target="_blank">View Books</a>
                    </div>
                    <div class="revenue-card">
                        <div class="revenue-icon">
                            <i class="fas fa-coffee" aria-hidden="true" alt="Coffee icon"></i>
                        </div>
                        <h3>Buy Us a Coffee</h3>
                        <p>Small donations help cover our hosting costs and keep the site running.</p>
                        <a href="https://buymeacoffee.com/ibresourcehub" class="btn btn-primary" rel="noopener" target="_blank">Donate Now</a>
                    </div>
                    <div class="revenue-card">
                        <div class="revenue-icon">
                            <i class="fas fa-file-pdf" aria-hidden="true" alt="PDF icon"></i>
                        </div>
                        <h3>Premium Guides</h3>
                        <p>Download in-depth study packages created by IB examiners and top scorers.</p>
                        <a href="/premium" class="btn btn-primary">View Resources</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chat Section -->
        <section class="chat" id="chat" role="region" aria-labelledby="chat-heading">
            <div class="container">
                <div class="section-title">
                    <h2 id="chat-heading">Real-time IB Support</h2>
                    <p>Get help instantly from our community of students, teachers, and alumni</p>
                </div>
                <div style="background: var(--card-bg); border-radius: 15px; padding: 30px; text-align: center;">
                    <h3 style="font-size: 1.8rem; margin-bottom: 20px; color: var(--dark);">Live Chat Support</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 30px; max-width: 700px; margin-left: auto; margin-right: auto; color: var(--text-light);">
                        Click the chat icon in the bottom right corner to start a conversation with our support team. 
                        We're here to help with any IB-related questions!
                    </p>
                    <div style="display: inline-block; background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%); padding: 15px 30px; border-radius: 50px; color: white; font-weight: 600;">
                        <i class="fas fa-comment-dots" style="margin-right: 10px;" aria-hidden="true"></i>
                        Chat Now Available
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer role="contentinfo">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>IB Resource Hub</h3>
                    <p>Providing free, high-quality resources to IB students worldwide since 2023.</p>
                    <div class="social-links">
                        <a href="https://facebook.com/ibresourcehub" aria-label="Facebook" rel="noopener"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/ibresourcehub" aria-label="Twitter" rel="noopener"><i class="fab fa-twitter"></i></a>
                        <a href="https://instagram.com/ibresourcehub" aria-label="Instagram" rel="noopener"><i class="fab fa-instagram"></i></a>
                        <a href="https://youtube.com/ibresourcehub" aria-label="YouTube" rel="noopener"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#articles">Articles</a></li>
                        <li><a href="#experiments">Experiments</a></li>
                        <li><a href="#chat">Live Chat</a></li>
                        <li><a href="#revenue">Support Us</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Popular Subjects</h3>
                    <ul>
                        <li><a href="/subject/math">Mathematics</a></li>
                        <li><a href="/subject/physics">Physics</a></li>
                        <li><a href="/subject/chemistry">Chemistry</a></li>
                        <li><a href="/subject/biology">Biology</a></li>
                        <li><a href="/subject/english">English Literature</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="/terms">Terms of Use</a></li>
                        <li><a href="/privacy">Privacy Policy</a></li>
                        <li><a href="/cookies">Cookie Policy</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-envelope" style="margin-right: 10px;"></i> support@ibresourcehub.com</li>
                        <li><i class="fas fa-globe" style="margin-right: 10px;"></i> www.ibresourcehub.com</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 IB Resource Hub. All rights reserved. This is an independent resource and not affiliated with the International Baccalaureate Organization.</p>
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div class="modal" id="contentModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
        <div class="modal-content">
            <button class="close" aria-label="Close modal">&times;</button>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <!-- Notifications Container -->
    <div class="notifications-container" id="notifications" aria-live="polite"></div>

    <!-- User Preferences Panel -->
    <div class="user-preferences" id="userPrefs" role="dialog" aria-label="User Preferences">
        <div class="theme-toggle">
            <label for="darkMode">Dark Mode</label>
            <label class="switch">
                <input type="checkbox" id="darkMode">
                <span class="slider"></span>
            </label>
        </div>
    </div>

    <!-- Floating Buttons -->
    <div id="tawkto-chat-button" aria-label="Open chat">
        <i class="fas fa-comment-alt"></i>
    </div>

    <div id="preferences-button" aria-label="User preferences">
        <i class="fas fa-cog"></i>
    </div>
    
    <!-- Cookie Consent Banner -->
    <div class="cookie-consent" id="cookieConsent">
        <div class="cookie-content">
            <div class="cookie-text">
                <p>We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies. <a href="/cookies" style="color: var(--secondary); text-decoration: underline;">Learn more</a></p>
            </div>
            <div class="cookie-buttons">
                <button class="btn btn-secondary" id="cookieReject">Reject</button>
                <button class="btn btn-primary" id="cookieAccept">Accept</button>
            </div>
        </div>
    </div>

    <!-- Tawk.to Integration -->
    <script>
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/YOUR_TAWKTO_PROPERTY_ID/default';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>

    <!-- App Script -->
    <script>
        // Service worker content
        const serviceWorkerContent = `
        const CACHE_NAME = 'ib-resource-hub-v1';
        const urlsToCache = [
            '/',
            '/index.html',
            '/styles.css',
            '/app.js',
            '/manifest.json',
            '/favicon.ico',
            '/articles/',
            '/experiments/',
            '/premium/'
        ];

        self.addEventListener('install', event => {
            event.waitUntil(
                caches.open(CACHE_NAME)
                    .then(cache => cache.addAll(urlsToCache))
            );
        });

        self.addEventListener('fetch', event => {
            event.respondWith(
                caches.match(event.request)
                    .then(response => response || fetch(event.request))
            );
        });

        self.addEventListener('activate', event => {
            const cacheWhitelist = [CACHE_NAME];
            event.waitUntil(
                caches.keys().then(cacheNames => {
                    return Promise.all(
                        cacheNames.map(cacheName => {
                            if (cacheWhitelist.indexOf(cacheName) === -1) {
                                return caches.delete(cacheName);
                            }
                        })
                    );
                })
            );
        });
        `;

        // Version information
        console.log('IB Resource Hub v1.0.0 | Built: ${new Date().toISOString()}');

        // Sample data with file paths for articles and experiments
        const articlesData = [
            {
                id: 1,
                title: "Mastering Calculus for IB Math HL",
                category: "Mathematics",
                description: "Comprehensive guide to differential and integral calculus with practice problems and solutions.",
                icon: "fas fa-calculator",
                date: "2025-07-22",
                file: "articles/calculus.html", // Path to article file
                difficulty: "Advanced",
                tags: "calculus, derivatives, integrals",
                progress: 65,
                author: "Dr. Sarah Johnson"
            },
            {
                id: 2,
                title: "Wave Phenomena: A Complete Guide",
                category: "Physics",
                description: "Understand wave behavior, interference, and diffraction with real-world examples.",
                icon: "fas fa-atom",
                date: "2025-07-21",
                file: "articles/wave-phenomena.html", // Path to article file
                difficulty: "Intermediate",
                tags: "waves, physics, interference",
                progress: 30,
                author: "Prof. Michael Chen"
            },
            {
                id: 3,
                title: "EE Success: From Topic to Submission",
                category: "Extended Essay",
                description: "Step-by-step guide to writing an exceptional Extended Essay with annotated examples.",
                icon: "fas fa-pen-fancy",
                date: "2025-07-20",
                file: "articles/ee-guide.html", // Path to article file
                difficulty: "Beginner",
                tags: "extended essay, research, writing",
                progress: 0,
                author: "Dr. Emily Rodriguez"
            },
            {
                id: 4,
                title: "Organic Chemistry Fundamentals",
                category: "Chemistry",
                description: "Essential concepts and reactions for IB Chemistry HL students.",
                icon: "fas fa-vial",
                date: "2025-07-19",
                file: "articles/organic-chemistry.html", // Path to article file
                difficulty: "Intermediate",
                tags: "organic chemistry, reactions, mechanisms",
                progress: 45,
                author: "Dr. James Wilson"
            },
            {
                id: 5,
                title: "Cell Biology Essentials",
                category: "Biology",
                description: "Comprehensive overview of cellular structures and functions with interactive diagrams.",
                icon: "fas fa-microscope",
                date: "2025-07-18",
                file: "articles/cell-biology.html", // Path to article file
                difficulty: "Intermediate",
                tags: "biology, cells, organelles",
                progress: 75,
                author: "Dr. Lisa Thompson"
            },
            {
                id: 6,
                title: "TOK Essay Structure Guide",
                category: "TOK",
                description: "Learn how to structure a compelling Theory of Knowledge essay with practical examples.",
                icon: "fas fa-brain",
                date: "2025-07-17",
                file: "articles/tok-essay.html", // Path to article file
                difficulty: "Advanced",
                tags: "TOK, essay, philosophy",
                progress: 20,
                author: "Dr. Robert Davies"
            }
        ];

        const experimentsData = [
            {
                id: 1,
                title: "Projectile Motion Simulator",
                category: "Physics",
                description: "Explore how launch angle and velocity affect projectile trajectories.",
                icon: "fas fa-rocket",
                file: "experiments/projectile.html", // Path to experiment file
                difficulty: "Intermediate",
                tags: "physics, motion, simulation",
                author: "Prof. Michael Chen"
            },
            {
                id: 2,
                title: "Chemical Reaction Visualizer",
                category: "Chemistry",
                description: "Visualize molecular interactions in various chemical reactions.",
                icon: "fas fa-vial",
                file: "experiments/chemistry.html", // Path to experiment file
                difficulty: "Advanced",
                tags: "chemistry, reactions, molecules",
                author: "Dr. James Wilson"
            },
            {
                id: 3,
                title: "Function Grapher",
                category: "Mathematics",
                description: "Plot and analyze mathematical functions in real-time.",
                icon: "fas fa-chart-line",
                file: "experiments/grapher.html", // Path to experiment file
                difficulty: "Beginner",
                tags: "math, functions, graphing",
                author: "Dr. Sarah Johnson"
            },
            {
                id: 4,
                title: "DNA Replication Simulation",
                category: "Biology",
                description: "Interactive model of DNA replication process.",
                icon: "fas fa-dna",
                file: "experiments/dna.html", // Path to experiment file
                difficulty: "Intermediate",
                tags: "biology, dna, genetics",
                author: "Dr. Lisa Thompson"
            },
            {
                id: 5,
                title: "Economic Supply & Demand",
                category: "Economics",
                description: "Interactive model showing how supply and demand affect market prices.",
                icon: "fas fa-chart-bar",
                file: "experiments/economics.html", // Path to experiment file
                difficulty: "Intermediate",
                tags: "economics, supply, demand",
                author: "Dr. Emily Rodriguez"
            },
            {
                id: 6,
                title: "Language Syntax Analyzer",
                category: "Language",
                description: "Visual tool for analyzing sentence structure in multiple languages.",
                icon: "fas fa-language",
                file: "experiments/syntax.html", // Path to experiment file
                difficulty: "Advanced",
                tags: "language, syntax, grammar",
                author: "Dr. Robert Davies"
            }
        ];

        // Pagination settings
        const articlesPerPage = 4;
        const experimentsPerPage = 4;
        let currentArticlePage = 1;
        let currentExperimentPage = 1;

        // DOM Elements
        const navMenu = document.getElementById('navMenu');
        const menuBtn = document.getElementById('menuBtn');
        const articlesContainer = document.getElementById('articles-container');
        const experimentsContainer = document.getElementById('experiments-container');
        const articlesLoading = document.getElementById('articlesLoading');
        const experimentsLoading = document.getElementById('experimentsLoading');
        const errorContainer = document.getElementById('errorContainer');
        const articlesPagination = document.getElementById('articlesPagination');
        const articlesPageNumbers = document.getElementById('articlesPageNumbers');
        const experimentsPagination = document.getElementById('experimentsPagination');
        const experimentsPageNumbers = document.getElementById('experimentsPageNumbers');
        const contentModal = document.getElementById('contentModal');
        const modalBody = document.getElementById('modalBody');
        const closeModal = document.querySelector('.close');
        const notificationsContainer = document.getElementById('notifications');
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const darkModeToggle = document.getElementById('darkMode');
        const userPrefs = document.getElementById('userPrefs');
        const prefsButton = document.getElementById('preferences-button');
        const cookieConsent = document.getElementById('cookieConsent');
        const cookieAccept = document.getElementById('cookieAccept');
        const cookieReject = document.getElementById('cookieReject');
        
        // Initialize the application
        function initApp() {
            // Mobile Menu Toggle
            menuBtn.addEventListener('click', toggleMobileMenu);
            
            // Smooth scrolling for anchor links
            setupSmoothScrolling();
            
            // Render initial content
            renderArticles();
            renderExperiments();
            
            // Modal functionality
            setupModal();
            
            // User preferences
            setupUserPreferences();
            
            // Search and filter
            setupSearchFilter();
            
            // Cookie consent
            setupCookieConsent();
            
            // Service worker registration
            registerServiceWorker();
            
            // Tawk.to integration
            setupTawkTo();
            
            // Simulate loading states
            simulateContentLoading();
        }
        
        // Register service worker
        function registerServiceWorker() {
            if ('serviceWorker' in navigator) {
                const blob = new Blob([serviceWorkerContent], { type: 'application/javascript' });
                const url = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(url)
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed') {
                                    if (navigator.serviceWorker.controller) {
                                        showNotification('New version available! Refresh to update.', 'info');
                                    }
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            }
        }
        
        // Setup Tawk.to integration
        function setupTawkTo() {
            const chatButton = document.getElementById('tawkto-chat-button');
            chatButton.addEventListener('click', () => {
                if (window.Tawk_API) {
                    Tawk_API.toggle();
                } else {
                    showNotification('Chat is loading...', 'info');
                    setTimeout(() => {
                        if (window.Tawk_API) {
                            Tawk_API.toggle();
                        } else {
                            showNotification('Failed to load chat. Please try again.', 'error');
                        }
                    }, 2000);
                }
            });
        }

        // Setup cookie consent
        function setupCookieConsent() {
            const cookiesAccepted = localStorage.getItem('cookiesAccepted');
            
            if (!cookiesAccepted) {
                setTimeout(() => {
                    cookieConsent.classList.add('active');
                }, 2000);
            }
            
            cookieAccept.addEventListener('click', () => {
                localStorage.setItem('cookiesAccepted', 'true');
                cookieConsent.classList.remove('active');
                showNotification('Cookie preferences saved', 'success');
            });
            
            cookieReject.addEventListener('click', () => {
                localStorage.setItem('cookiesAccepted', 'false');
                cookieConsent.classList.remove('active');
                showNotification('Cookies disabled', 'info');
            });
        }

        // Toggle mobile menu
        function toggleMobileMenu() {
            navMenu.classList.toggle('active');
        }
        
        // Close mobile menu on navigation
        function closeMobileMenu() {
            navMenu.classList.remove('active');
        }

        // Setup smooth scrolling
        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        window.scrollTo({
                            top: target.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        closeMobileMenu();
                    }
                });
            });
        }

        // Render articles with pagination
        function renderArticles() {
            articlesContainer.innerHTML = '';
            const startIndex = (currentArticlePage - 1) * articlesPerPage;
            const endIndex = startIndex + articlesPerPage;
            const paginatedArticles = articlesData.slice(startIndex, endIndex);
            
            if (paginatedArticles.length === 0) {
                articlesContainer.innerHTML = `
                    <div class="error-message" style="grid-column: 1/-1;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>No articles found matching your criteria</span>
                    </div>
                `;
                return;
            }
            
            paginatedArticles.forEach(article => {
                const articleCard = createContentCard(article, 'article');
                articlesContainer.appendChild(articleCard);
            });
            
            // Render pagination controls
            renderPagination(articlesData.length, articlesPerPage, currentArticlePage, 'articles');
            
            // Hide loading skeleton
            articlesLoading.classList.add('hidden');
        }
        
        // Render experiments with pagination
        function renderExperiments() {
            experimentsContainer.innerHTML = '';
            const startIndex = (currentExperimentPage - 1) * experimentsPerPage;
            const endIndex = startIndex + experimentsPerPage;
            const paginatedExperiments = experimentsData.slice(startIndex, endIndex);
            
            if (paginatedExperiments.length === 0) {
                experimentsContainer.innerHTML = `
                    <div class="error-message" style="grid-column: 1/-1;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>No experiments found matching your criteria</span>
                    </div>
                `;
                return;
            }
            
            paginatedExperiments.forEach(experiment => {
                const experimentCard = createContentCard(experiment, 'experiment');
                experimentsContainer.appendChild(experimentCard);
            });
            
            // Render pagination controls
            renderPagination(experimentsData.length, experimentsPerPage, currentExperimentPage, 'experiments');
            
            // Hide loading skeleton
            experimentsLoading.classList.add('hidden');
        }
        
        // Render pagination controls
        function renderPagination(totalItems, itemsPerPage, currentPage, type) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const pageNumbersContainer = type === 'articles' ? articlesPageNumbers : experimentsPageNumbers;
            const prevButton = type === 'articles' ? 
                articlesPagination.querySelector('[data-page="prev"]') : 
                experimentsPagination.querySelector('[data-page="prev"]');
            const nextButton = type === 'articles' ? 
                articlesPagination.querySelector('[data-page="next"]') : 
                experimentsPagination.querySelector('[data-page="next"]');
            
            pageNumbersContainer.innerHTML = '';
            
            // Disable prev button on first page
            prevButton.disabled = currentPage === 1;
            
            // Disable next button on last page
            nextButton.disabled = currentPage === totalPages;
            
            // Create page number buttons
            for (let i = 1; i <= totalPages; i++) {
                const pageNumber = document.createElement('span');
                pageNumber.className = 'page-number';
                if (i === currentPage) {
                    pageNumber.classList.add('active');
                }
                pageNumber.textContent = i;
                pageNumber.dataset.page = i;
                pageNumber.addEventListener('click', () => {
                    if (type === 'articles') {
                        currentArticlePage = i;
                        renderArticles();
                    } else {
                        currentExperimentPage = i;
                        renderExperiments();
                    }
                });
                pageNumbersContainer.appendChild(pageNumber);
            }
            
            // Add event listeners to prev/next buttons
            prevButton.onclick = () => {
                if (type === 'articles') {
                    if (currentArticlePage > 1) {
                        currentArticlePage--;
                        renderArticles();
                    }
                } else {
                    if (currentExperimentPage > 1) {
                        currentExperimentPage--;
                        renderExperiments();
                    }
                }
            };
            
            nextButton.onclick = () => {
                if (type === 'articles') {
                    if (currentArticlePage < totalPages) {
                        currentArticlePage++;
                        renderArticles();
                    }
                } else {
                    if (currentExperimentPage < totalPages) {
                        currentExperimentPage++;
                        renderExperiments();
                    }
                }
            };
        }

        // Create content card
        function createContentCard(item, type) {
            const card = document.createElement('div');
            card.className = 'content-card';
            card.dataset.id = item.id;
            card.dataset.category = item.category.toLowerCase();
            card.dataset.difficulty = item.difficulty.toLowerCase();
            card.dataset.tags = item.tags;
            
            // Bookmark button based on localStorage
            const isBookmarked = localStorage.getItem(`bookmark-${type}-${item.id}`) === 'true';
            
            card.innerHTML = `
                <div class="card-img">
                    <i class="${item.icon}" aria-hidden="true"></i>
                    <button class="bookmark-btn ${isBookmarked ? 'active' : ''}" 
                            data-type="${type}" 
                            data-id="${item.id}" 
                            aria-label="${isBookmarked ? 'Remove bookmark' : 'Bookmark this content'}">
                        <i class="${isBookmarked ? 'fas' : 'far'} fa-bookmark"></i>
                    </button>
                    ${type === 'article' ? `
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${item.progress}%"></div>
                    </div>
                    ` : ''}
                </div>
                <div class="card-content">
                    <span class="tag">${item.category}</span>
                    <h3>${sanitizeHTML(item.title)}</h3>
                    <p>${sanitizeHTML(item.description)}</p>
                    <div class="content-meta">
                        <span><i class="fas fa-user" aria-hidden="true"></i> ${sanitizeHTML(item.author)}</span>
                        <span><i class="fas fa-calendar-alt" aria-hidden="true"></i> ${sanitizeHTML(item.date)}</span>
                        ${type === 'article' ? `<span><i class="fas fa-chart-line" aria-hidden="true"></i> ${sanitizeHTML(item.difficulty)}</span>` : ''}
                    </div>
                    <button class="btn btn-secondary btn-small view-content" 
                            data-type="${type}" 
                            data-id="${item.id}">
                        ${type === 'article' ? 'Read Article' : 'Try Experiment'}
                    </button>
                </div>
            `;
            
            return card;
        }
        
        // Basic HTML sanitization
        function sanitizeHTML(str) {
            return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');
        }

        // Setup modal functionality
        function setupModal() {
            // Close modal
            closeModal.addEventListener('click', () => {
                contentModal.classList.remove('active');
            });
            
            // Close when clicking outside modal
            window.addEventListener('click', (e) => {
                if (e.target === contentModal) {
                    contentModal.classList.remove('active');
                }
            });
            
            // View content event delegation
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('view-content')) {
                    const type = e.target.dataset.type;
                    const id = e.target.dataset.id;
                    showContentModal(type, id);
                }
                
                // Bookmark event
                if (e.target.closest('.bookmark-btn')) {
                    const btn = e.target.closest('.bookmark-btn');
                    const type = btn.dataset.type;
                    const id = btn.dataset.id;
                    toggleBookmark(btn, type, id);
                }
            });
        }

        // Show content in modal
        function showContentModal(type, id) {
            const content = type === 'article' 
                ? articlesData.find(a => a.id == id) 
                : experimentsData.find(e => e.id == id);
            
            if (content) {
                modalBody.innerHTML = `
                    <h2>${sanitizeHTML(content.title)}</h2>
                    <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 20px;">
                        <span class="tag">${sanitizeHTML(content.category)}</span>
                        <span class="tag"><i class="fas fa-user" aria-hidden="true"></i> ${sanitizeHTML(content.author)}</span>
                        <span class="tag"><i class="fas fa-calendar-alt" aria-hidden="true"></i> ${sanitizeHTML(content.date)}</span>
                        ${type === 'article' ? `<span class="tag"><i class="fas fa-chart-line" aria-hidden="true"></i> ${sanitizeHTML(content.difficulty)}</span>` : ''}
                    </div>
                    <p>${sanitizeHTML(content.description)}</p>
                    <div class="content-preview" style="margin-top: 30px; padding: 20px; background: var(--light); border-radius: 10px;">
                        <h3 style="margin-bottom: 15px;">Preview</h3>
                        <p>This is a preview of the ${type === 'article' ? 'article' : 'experiment'}. The full content would be displayed here in a complete implementation. For now, we're showing a representative sample.</p>
                        <p>${sanitizeHTML(content.description)}</p>
                    </div>
                    <div class="cta-buttons" style="margin-top: 30px; display: flex; gap: 15px; flex-wrap: wrap;">
                        <a href="${sanitizeHTML(content.file)}" class="btn btn-primary">Open Full ${type === 'article' ? 'Article' : 'Experiment'}</a>
                        <div class="social-sharing" style="display: flex; gap: 10px; margin-left: auto;">
                            <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}" class="btn btn-secondary" style="padding: 8px 15px;" aria-label="Share on Facebook" target="_blank" rel="noopener"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://twitter.com/intent/tweet?text=${encodeURIComponent(content.title)}&url=${encodeURIComponent(window.location.href)}" class="btn btn-secondary" style="padding: 8px 15px;" aria-label="Share on Twitter" target="_blank" rel="noopener"><i class="fab fa-twitter"></i></a>
                            <a href="https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}" class="btn btn-secondary" style="padding: 8px 15px;" aria-label="Share on LinkedIn" target="_blank" rel="noopener"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                `;
                contentModal.classList.add('active');
                closeModal.focus();
            }
        }

        // Toggle bookmark
        function toggleBookmark(btn, type, id) {
            const isActive = btn.classList.contains('active');
            const icon = btn.querySelector('i');
            
            if (isActive) {
                btn.classList.remove('active');
                icon.className = 'far fa-bookmark';
                localStorage.setItem(`bookmark-${type}-${id}`, 'false');
                showNotification('Bookmark removed', 'info');
            } else {
                btn.classList.add('active');
                icon.className = 'fas fa-bookmark';
                localStorage.setItem(`bookmark-${type}-${id}`, 'true');
                showNotification('Bookmark added', 'success');
            }
        }

        // Show notification
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}" aria-hidden="true"></i>
                <span>${message}</span>
            `;
            
            notificationsContainer.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            // Remove notification after delay
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 500);
            }, 3000);
        }

        // Setup user preferences
        function setupUserPreferences() {
            // Load dark mode preference
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                darkModeToggle.checked = true;
            }
            
            // Toggle dark mode
            darkModeToggle.addEventListener('change', () => {
                document.body.classList.toggle('dark-mode');
                localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
                showNotification(`Dark mode ${document.body.classList.contains('dark-mode') ? 'enabled' : 'disabled'}`, 'info');
            });
            
            // Toggle preferences panel
            prefsButton.addEventListener('click', () => {
                userPrefs.classList.toggle('active');
            });
            
            // Close preferences when clicking outside
            document.addEventListener('click', (e) => {
                if (!userPrefs.contains(e.target) && !prefsButton.contains(e.target)) {
                    userPrefs.classList.remove('active');
                }
            });
        }

        // Setup search and filter
        function setupSearchFilter() {
            // Search functionality
            document.getElementById('searchButton').addEventListener('click', filterContent);
            searchInput.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') filterContent();
            });
            
            // Filter buttons
            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filterContent();
                });
            });
        }

        // Filter content
        function filterContent() {
            const searchTerm = searchInput.value.toLowerCase();
            const filter = document.querySelector('.filter-btn.active').dataset.filter;
            
            // Filter articles
            const filteredArticles = articlesData.filter(article => {
                const matchesSearch = article.title.toLowerCase().includes(searchTerm) || 
                                    article.description.toLowerCase().includes(searchTerm) ||
                                    article.tags.toLowerCase().includes(searchTerm);
                const matchesFilter = filter === 'all' || article.category.toLowerCase() === filter;
                return matchesSearch && matchesFilter;
            });
            
            // Filter experiments
            const filteredExperiments = experimentsData.filter(experiment => {
                const matchesSearch = experiment.title.toLowerCase().includes(searchTerm) || 
                                    experiment.description.toLowerCase().includes(searchTerm) ||
                                    experiment.tags.toLowerCase().includes(searchTerm);
                const matchesFilter = filter === 'all' || experiment.category.toLowerCase() === filter;
                return matchesSearch && matchesFilter;
            });
            
            // Reset pagination
            currentArticlePage = 1;
            currentExperimentPage = 1;
            
            // Render filtered content
            renderFilteredContent(filteredArticles, filteredExperiments);
        }
        
        // Render filtered content
        function renderFilteredContent(articles, experiments) {
            // Render articles
            articlesContainer.innerHTML = '';
            
            if (articles.length === 0) {
                articlesContainer.innerHTML = `
                    <div class="error-message" style="grid-column: 1/-1;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>No articles found matching your criteria</span>
                    </div>
                `;
                articlesPageNumbers.innerHTML = '';
            } else {
                const startIndex = (currentArticlePage - 1) * articlesPerPage;
                const endIndex = startIndex + articlesPerPage;
                const paginatedArticles = articles.slice(startIndex, endIndex);
                
                paginatedArticles.forEach(article => {
                    const articleCard = createContentCard(article, 'article');
                    articlesContainer.appendChild(articleCard);
                });
                
                // Render pagination controls
                renderPagination(articles.length, articlesPerPage, currentArticlePage, 'articles');
            }
            
            // Render experiments
            experimentsContainer.innerHTML = '';
            
            if (experiments.length === 0) {
                experimentsContainer.innerHTML = `
                    <div class="error-message" style="grid-column: 1/-1;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>No experiments found matching your criteria</span>
                    </div>
                `;
                experimentsPageNumbers.innerHTML = '';
            } else {
                const startIndex = (currentExperimentPage - 1) * experimentsPerPage;
                const endIndex = startIndex + experimentsPerPage;
                const paginatedExperiments = experiments.slice(startIndex, endIndex);
                
                paginatedExperiments.forEach(experiment => {
                    const experimentCard = createContentCard(experiment, 'experiment');
                    experimentsContainer.appendChild(experimentCard);
                });
                
                // Render pagination controls
                renderPagination(experiments.length, experimentsPerPage, currentExperimentPage, 'experiments');
            }
        }
        
        // Simulate content loading
        function simulateContentLoading() {
            setTimeout(() => {
                articlesLoading.classList.add('hidden');
                experimentsLoading.classList.add('hidden');
                renderArticles();
                renderExperiments();
            }, 1500);
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
    
    <!-- NoScript Fallback -->
    <noscript>
        <div style="position: fixed; top: 0; left: 0; right: 0; background: #ff6b6b; color: white; text-align: center; padding: 20px; z-index: 100000;">
            JavaScript is disabled in your browser. Some features of this site may not work without JavaScript.
        </div>
    </noscript>
</body>
</html>